{"filter":false,"title":"unicorn.rb.j2","tooltip":"/roles/nginx/templates/unicorn.rb.j2","undoManager":{"mark":6,"position":6,"stack":[[{"start":{"row":0,"column":0},"end":{"row":27,"column":66},"action":"insert","lines":["worker_processes Integer(ENV[\"WEB_CONCURRENCY\"] || 3)","timeout 15","preload_app true","","listen '/home/vagrant/myapp/tmp/unicorn.sock'","pid    '/home/vagrant/myapp/tmp/unicorn.pid'","","before_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn master intercepting TERM and sending myself QUIT instead'","    Process.kill 'QUIT', Process.pid","  end","","  defined?(ActiveRecord::Base) and","    ActiveRecord::Base.connection.disconnect!","end","","after_fork do |server, worker|","  Signal.trap 'TERM' do","    puts 'Unicorn worker intercepting TERM and doing nothing. Wait for master to send QUIT'","  end","","  defined?(ActiveRecord::Base) and","    ActiveRecord::Base.establish_connection","end","","stderr_path File.expand_path('log/unicorn.log', ENV['RAILS_ROOT'])","stdout_path File.expand_path('log/unicorn.log', ENV['RAILS_ROOT'])"],"id":1}],[{"start":{"row":4,"column":14},"end":{"row":4,"column":21},"action":"remove","lines":["vagrant"],"id":2}],[{"start":{"row":4,"column":14},"end":{"row":4,"column":15},"action":"insert","lines":["e"],"id":3},{"start":{"row":4,"column":15},"end":{"row":4,"column":16},"action":"insert","lines":["c"]},{"start":{"row":4,"column":16},"end":{"row":4,"column":17},"action":"insert","lines":["2"]},{"start":{"row":4,"column":17},"end":{"row":4,"column":18},"action":"insert","lines":["-"]},{"start":{"row":4,"column":18},"end":{"row":4,"column":19},"action":"insert","lines":["u"]},{"start":{"row":4,"column":19},"end":{"row":4,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":21},"action":"insert","lines":["e"],"id":4},{"start":{"row":4,"column":21},"end":{"row":4,"column":22},"action":"insert","lines":["r"]}],[{"start":{"row":4,"column":27},"end":{"row":4,"column":28},"action":"remove","lines":["p"],"id":5},{"start":{"row":4,"column":26},"end":{"row":4,"column":27},"action":"remove","lines":["p"]},{"start":{"row":4,"column":25},"end":{"row":4,"column":26},"action":"remove","lines":["a"]},{"start":{"row":4,"column":24},"end":{"row":4,"column":25},"action":"remove","lines":["y"]},{"start":{"row":4,"column":23},"end":{"row":4,"column":24},"action":"remove","lines":["m"]}],[{"start":{"row":4,"column":23},"end":{"row":4,"column":43},"action":"insert","lines":["cloud9-RaiseTech-4-5"],"id":6}],[{"start":{"row":5,"column":14},"end":{"row":5,"column":27},"action":"remove","lines":["vagrant/myapp"],"id":7},{"start":{"row":5,"column":14},"end":{"row":5,"column":43},"action":"insert","lines":["ec2-user/cloud9-RaiseTech-4-5"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":10},"end":{"row":1,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1642578680668,"hash":"fd4e31259beab650cc3ad7b4b4056a8ef43e70ec"}